---
description: 'https://blog.csdn.net/wwxy1995/article/details/102472503'
---

# C++ 面试刷题

问的比较随意

1.M个不重复字符随机组合问是否在一个字符串中会出现，要求O\(N\)

2.M个重复字符（包括中文）随机组合，问会不会在一个字符串中出现，要求O\(N\)

然后就是基础知识：

1.内存中进程驻留集如何选定

2.调度算法

3.为什么要有TIME\_WAIT，大小选定

确保最后一次挥手能到达服务器。

4.超时重传

5.拥塞控制

先通俗解释下什么是拥塞控制，在讲出四个算法

当发生了超时重传或者冗余ACK的时候我们就可以认定发生了网络拥塞，这时候就需要进行拥塞控制。而正常

的收发报文段即发送端发送分组，接收方发送确定ACK分组则认为网络流程。不需要拥塞控制。

慢启动，快重传，拥塞避免，快速恢复

6.数据库中文件在磁盘上的存储方式

7.B树

平衡的多叉树，称为B树

8.采用B树与二叉树的区别

一、地平线（嵌入式软件研发工程师-南京，提前批免笔试）：

一面（电话面试）：

（1）class和struct的区别

（2）list和vector哪个索引更快

vector随机访问

（3）线程同步的方法、线程通信（共享内存、信号量、互斥锁、事件对象）

（4）多线程访问同一全局变量会出现的问题，有没有遇到过相关的问题。

线程不安全

（5）问会不会网络编程

（6）手撕代码：两道题，一道是数组中最小的两个数，一道是大数相加，我选的第一道

求最小和第二小

二面（电话面试）：

（1）定义和声明的区别

（2）static extern

（3）数组指针、指针数组、函数指针、函数指针数组

（4）堆和栈的区别

（5）深拷贝和浅拷贝的区别

（6）内存泄漏与内存溢出，如何防止内存泄漏

（7）进程和线程的区别

（8）手撕代码，一面出的两道题，做剩下的那道大数相加

三面（电话面试）：

挺过了一面二面技术，以为三面应该还可以，结果gg。本来约的4点，结果面试官开会开到5点，等到5点多开始面试。上来先问我有没有做题，我说做了，然后就开始聊项目，估计也是心情烦躁吧，面试很没有耐心，全程怼项目、被鄙视，说我做的太low，没意思，草草结束。然后官网状态就显示挂了。

总结：地平线提前批的处理速度还挺快的，三面基本上是连着的，前两面都还好，面试官也不错，就第三面，可能也是我自己项目不行吧，挺受伤的。

二、招银网络（C++开发工程师-杭州）：

电话面试（笔试做的不好的话，会有这么一轮，跟我聊了不到10分钟吧，而且真的会刷人的哦）：

（1）什么时候用到内联函数

（2）内存泄漏怎么办

（3）debug和release文件哪个大

（4）如何构造一个服务器

现场面试：

一轮，一个技术小哥哥，问的挺细挺多的，感觉还比较专业：

（1）设计模式必问

（2）SQL查询语句

（3）手撕代码：给定一个数组，按奇偶奇偶输出

（4）TCP/IP协议，握手挥手机制

还有一些记不清了，还挺细的

二轮，比较严肃，感觉是boss： （1）项目

（2）别给自己挖坑！！！问你会什么编程语言，我说C++，问我C++优势在哪，然后让我写个类；

（3）用C++做过什么项目，我说没有，但是写过一些程序，然后就让我写一个最复杂的，自己比较菜，随便写了两个?

三轮HR：

HR问的问题挺多的，各种经历、家庭都问，这个好像挺看重成绩的，实验室小伙伴成绩不是很好，全程被怼

现在等结果，希望能上岸，好歹在杭州啊~?

三、CVTE（嵌入式软件开发工程师，一面凉）：

（1）全程问项目，感觉项目准备的不好，回答的有点乱七八糟，时间仓促，一个专业问题没问；

（2）手撕代码：输出一个数所有的质因数

四、YY（C++开发工程师）：

一面凉：

（1）定义A，B两个类，及虚函数test\(\)，B b， A\* b，那么b.test\(\)和b-&gt;test\(\)有什么区别，从内存角度来说。

（2）构造函数能是虚函数吗？析构函数呢？虚表怎么调用

（3）I/O复用（select，poll，epoll实现），网络复用（）

五、汇顶（嵌入式开发工程师，提前批）：

当时没复习，啥都不会，记不清问了啥?

（1）大端和小端的区别，如何判断

（2）单片机虚拟地怎么处理

还有一些记不清了，是有一个手撕的

自动转秋招：

总体来说，秋招很简单，和面试官聊了聊项目和成绩，然后HR，然后boss面，问了放大器的内部结构，没有复习过，不会，最后给了一个sensor应用工程师的offer，同时也想问下有没有这个岗位的小伙伴，不知道咋样呢

六、小米一面凉（秋招投的嵌入式开发，结果提前批直接转秋招，面的大数据开发工程师）： （1）深拷贝和浅拷贝的区别（高频题）

（2）说一说项目中如何应用贝叶斯分类的

（3）几种排序算法的时间、空间复杂度，说一说归并排序如何实现的

（4）大数据相关的我不会，面试官也就没问了，然后凉凉

七、度小满二面凉（C++开发工程师）：

（1）内存管理

（2）TCP和UDP的区别

TCP面向连接可靠的基于字节流的协议

（3）产生死锁的原因，写一段代码实现

产生死锁的四个必要条件：

（1） 互斥条件：一个资源每次只能被一个进程使用。

（2） 占有且等待：一个进程因请求资源而阻塞时，对已获得的资源保持不放。

（3）不可强行占有:进程已获得的资源，在末使用完之前，不能强行剥夺。

（4） 循环等待条件:若干进程之间形成一种头尾相接的循环等待资源关系。

（4）为什么会有线程不安全，写个示例代码

多个线程访问共享变量

（5）数据库事务的特点、事务级别

原子性，隔离性，一致性，持久性

读未提交

读提交

可重复读

可串行化

（6）InnoDB和MyISAM的区别

（7）SQL的锁机制有多少种，乐观锁、悲观锁

（8）前缀表达式，中缀表达式，后缀表达式

（9）内存泄漏

（10）进程间的通信机制

（11）写一个快速排序

八、字节跳动一面凉（C++开发工程师）：

（1）字典的底层实现机制，为什么要用红黑树，红黑树的原理

（2）C++虚函数

（3）堆栈的区别

（4）优先级队列的实现，高优先级先出

（5）手撕代码

九、ZOOM（C++客户端开发工程师）：

（1）类在定义的时候默认会生成哪几个函数

（2）C++相对于C的优势在哪里

（3）虚函数、多态的实现

（4）C++内存分配

（5）TCP/IP，TCP三次握手，四次挥手

（6）指针，引用，实参，形参

（7）delete\[\]和delete问题

（8）进程间通信的方式

（9）进程，线程，程序的区别

（10）指针，引用，实参，形参

（11）一个string翻转，不能额外占用任何空间

十、寒武纪（音视频驱动开发工程师）：

（1）CNN原理等深度学习问题

（2）linux开发，Python用的比较多，C++的问题没怎么问，凉凉

十一、图森未来（系统开发工程师）：

（1）写一个类，实现insert，delete，getClosest等功能，信息不是很明确，花的时间有点久

（2）剩下一些基础C++问题

十二、优必选（C++开发工程师）：

技术一面：

（1）基础问题，插入，查找算法的复杂度

（2）场景问题：实时通信，TCP/UDP选择等

（3）linux会不会，有没有开发平台的倾向

（4）项目相关

HR面：

（1）各种灵魂拷问，很可怕，涉及职业规划

（2）给自己最想去的公司排序，top3；如果加上优必选，都收到offer，如何选择

还有海康、电信云、海尔、平安产险等，问项目比较多

函数传值的方式 引用和拷贝的区别 引用的优缺点和拷贝的优缺点

8.24 深信服优招 c++研发（物联网方向）

c++内存分区，未初始化的全局变量放在哪，如果编译了在二进制文件里会有他的位置吗？ 野指针是什么，有什么工具可以检测吗？ 进程间通信方式，知道互斥锁和什么锁 一个结构体，能够用memcpy判断两个结构体存的东西是不一样的吗？ 知道哈希表吗，怎么解决冲突，如果只有32个槽，怎么存放几千个数据。 路由器和二层交换机的区别 用过shell脚本吗 知道二叉树有哪些遍历的方式吗 后序遍历的实现 假设4个人过河，每个人的过桥时间为1，2，5，8。只有一个手电筒，一次最多过两个，怎么过桥速度最快 如果是n个人怎么计算他的过河时间 arp协议的功能干嘛用的 ip地址解析为mac地址

快速排序的思想

8.26 老虎正式批 windows开发一面

c和c++的区别 你对多态的理解 冒泡函数 快速排序的思想 学习了哪些数据结构 你对mfc的印象 用过哪些ui界面 用过qt吗 8.26 360提前批 软件开发 手撕strcpy 如何判断大小端，手写代码 讲一下tcp的拥塞控制 左值引用和右值引用的区别 四种cast强制类型转换的区别和使用 讲一下智能指针 做了哪些面向对象编程的工作 了解完美转发吗 future和thread了解吗 tcp/ip四层模型和osi七层模型具体是哪些 进程间消息通讯方式 进程和线程的区别 8.26 老虎正式批 windows开发二面

讲windows下消息的机制 系统集和用户集 c++的内存管理 stl是线程安全的还是不安全的 windows出现了内存泄漏怎么办 怎么删除链表第n个结点 tcp，udp的区别 tcp怎么确定可靠传输 用户点下鼠标到控件响应的过程，怎么实现的 9.5 bigo正式批 客户端开发一面

项目 单例模式线程安全手撕代码 观察者模式的应用场景和工作方式 知道责任链设计模式吗 流量控制与拥塞控制 tcp，udp应用的场景 讲一下红黑树 哪些排序算法是稳定的 c++有哪些创建线程的方法 用过oracle和mysql吗 join有哪几种方式 讲一下左连接和右连接 了解过移动开发的架构实现吗 除了c++还用过什么，java用过吗 有什么想问我的 9.8 高德地图正式批 c++研发一面

你对面向对象的理解 继承有什么原则 虚函数的工作方式 虚函数表和虚表指针是一个对象一个还是 抽象类可以实例化对象吗 公有继承，私有继承，保护继承的使用场景，和你的判断使用哪种的原则 c\#中有接口的概念，那么在c++中你觉得哪种行为体现了接口的特性 重写和重载的区别 类函数哪些需要设置成虚函数，你怎么判断一个函数需要声明为虚函数 基类指针操作基类对象，和基类指针操作派生类对象，和派生类指针操作基类对象，和派生类指针操作派生类对象，操作同名函数时的表现 如果同名函数为虚函数又是怎么样的 c++的虚拟内存分布 1

2

3

const int i=1024

char \*str =”"hello"

在全局范围和局部范围声明时在内存的分布情况

1

2

3

int i=1024

static int i=1024

在全局声明使用的区别和局部声明的区别

你了解过stl容器中的哪些容器，以及使用的场景和区别 vector中扩容的原理和具体实现方式 map和unordered map的底层实现和性能区别，获取元素和删除增加元素。 了解过哪些排序算法，可以讲一下吗。在什么场景使用什么算法 归并排序了解吗 设计数据库表有哪些原则，你如何设计一个表 数据库设计的三大范式：为了建立冗余较小、结构合理的数据库，设计数据库时必须遵循一定的规则。在关系型数据库中这种规则就称为范式。范式是符合某一种设计要求的总结。要想设计一个结构合理的关系型数据库，必须满足一定的范式。

在实际开发中最为常见的设计范式有三个：第一范式是最基本的范式。如果数据库表中的所有字段值都是不可分解的原子值，就说明该数据库表满足了第一范式；第二范式在第一范式的基础之上更进一层。第二范式需要确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关（主要针对联合主键而言）。也就是说在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中；第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。总结一下，就是：第一范式\(确保每列保持原子性\)；第二范式\(确保表中的每列都和主键相关\)；第三范式\(确保每列都和主键列直接相关,而不是间接相关\)。

怎么增加数据库的i/o速度 在多线程有过实践吗，或者你对多线程有什么了解 了解过范式吗 以后想要往什么方向走 了解过大数据和图像处理吗 了解过二叉树的遍历方式吗，二叉树有哪些遍历方式，是什么个遍历顺序，非递归是怎么实现的 有什么兴趣爱好 读过什么c++的书 英语的水平怎么样 工作地点在北京有什么不方便的吗 反问

你们认为应届生是基础重要还是应用重要 基础更重要，面试官更看重的是你的潜力，应用的话是第二考量，有实践经验最好，但是每个学校并不是都有实践的机会。所以基础更加重要

对于应届生学习有什么意见 如果选定了一个专业领域，那么就应该学习对应领域的知识，去做对应领域的实践，知识的落地是非常重要的。

9.9 cvte正式批 c++软件开发一面

c++的三大特性 什么是多态 虚函数的工作原理 如果是多重继承只有一个虚表指针吗 使用过类模板吗 函数模板和类模板的区别 用过stl吗，用过哪些 vector的一个扩容原理 如果让你实现vector动态删除然后容量缩小你会如何设计 了解过类型萃取吗 了解过c++11特性吗 c++有哪些创建线程的方式 了解过智能指针吗 智能指针怎么解决内存泄露 weak ptr怎么解决循环引用的问题 tcp滑动窗口的原理 tcp和udp的区别 为什么tcp不能是两次了解 为什么四次挥手不能是三次 怎么解决tcp粘包的问题 手撕算法:怎么判断一个链表是否有环 9.9 cvte正式批 c++软件开发二面

怎么解决tcp粘包问题\(一面答的不好又问了一次\) 设置固定的消息头，保存一个消息长度

tcp怎么保证可靠传输 数据编号，确认重传，校验码，数据合理分片和排序

tcp的停止等待协议是为了什么 线程同步的方式 线程之间怎么传递信号 c++怎么传递信号 什么是内存泄露 如果我new了一个内存，然后在delete之前这个进程被系统杀死了。那这样是内存泄露吗 不算

linux 755指的是什么权限 wine是使windows程序能够在linux下使用，你觉得他是怎么解决的 系统调用和函数调用的区别 dll是什么文件 静态库和动态库的区别 什么情况下会发生dll缺失 怎么解决内存泄露的问题 你觉得这些定位开源定位内存泄露的工具是怎么实现的 c++下的可执行文件和linux下的可执行文件是什么后缀 windows下c++有哪些文件的后缀，干嘛用的 如果在调试过程中，出现了需要循环很多次才出现的错误应该怎么调试 最近在编程上遇到了什么问题 手撕单例模式线程安全写法 如果多个线程同时判断到当前对象未创建，应该怎么解决 c++11中可以用什么特性替换单例模式中的static写法 git和svn的区别 git和github的区别 讲一下stl中map map和unordered map的区别 9.10 拼多多正式批 服务端工程师一面

全程就问了我两道算法题，让我理思路让我写

第一题是笔试题中的一道题，记得不太清楚了

```text
给定一个字符串，其中包含 数字(0-9)、字母(a-z,A-Z)、小数点(.)，要求从中找出子串，该子串需满足
是一个合法的 十进制 数字，如是一个整数、浮点数
是符合1的条件里的所有子串里长度最长的，小数点也算在长度里，但是不影响大小的前导或者末尾0不算在长度里，如123.45的长度是6，00123的长度是3，123.4500的长度是6，123.046的长度是7
如果同时符合1和2的子串有多个，按数值大小从大到小全部输出

输入 123.456abc789.678.23500
输出 789.678 678.23500 123.456
```

9.11 bigo正式批 客户端开发二面

tcp和udp的区别 如何基于udp实现tcp 构建哈弗曼数的思路 什么情况用栈什么情况用队列 什么情况发生内存泄露 空指针和野指针的区别 什么情况下产生野指针 什么情况会发生栈异常 手撕算法:判断一个整数是不是回文数。用不同的方法，考虑时间复杂度和空间复杂度。写出用最少辅助空间的算法 做过哪些项目 如何估算一片绿化占当前区域的比例 9.11 bigo正式批 客户端开发三面--手撕算法

完成二叉树的列遍历，同一列的节点按照根左右的顺序输出 给定金币，要你求最小的组合硬币数。 top\(k\)问题，怎么求第k大的数。小根堆的执行过程。画图 9.16 网易正式批 客户端开发一面

c++三大特性 继承，封装，多态讲一下 public,protect,private讲一下 共有继承，保护继承，私有继承的区别。 既然私有继承，派生类不能够访问，为什么又要继承 如何访问其他类的私有成员 既然私有成员就是不想让外界访问，为什么又设计了友元的方式去能够访问私有成员 函数重载和函数模板的区别 函数模板是怎么去调用到对应的重载版本 函数模板在二进制文件中是存放了全部重载版本吗，还是怎么 函数重载max。是直接比较大小吗 函数重载max传递的类对象，想通过直接比较的方式怎么实现 重载运算符&lt;有哪些需要注意的点 虚函数表是谁维护的 虚函数表存放的是什么 基类有一个虚函数fun，派生类有虚函数fun。用基类指针指向派生类对象调用的是哪个函数 派生类虚函数表的具体结构 基类指针怎么动态的知道自己指向的动态对象 讲一下抽象类 抽象类可以有成员变量吗 场景题:0-10000的数。已有500个数，可重复，判断某个数是否存在。如何设计 了解windows下的消息机制吗 数据库多次增删改，如何保证安全 了解事务吗 tcp如何实现可靠传输 c的struct和c++struct的区别 平时自己有封装的经验吗 你觉得算法题除了对付公司的笔试，在自己的工作中有什么帮助 9.16 高德地图正式批 c++研发二面

const 的作用，函数前面和函数后面有什么不一样 struct和class的区别，什么时候用struct,什么时候用class struct字节对齐的方式，字节对齐有什么好处 c++内存管理 反转二叉树，递归和非递归做法 冒泡排序和快速排序的时间复杂度 求站点a到站点b的所有可达路径的方式，考虑查询 有了解过A\*算法吗 类型萃取的实现 没打算考研吗？ 9.18 拼多多正式批 服务端工程师二面

疯狂怼项目 了解过A\*寻路算法吗 多线程和多进程的区别，什么时候用多线程，什么时候用多进程 一个类对象数据的初始化顺序 tcp和udp的区别 什么时候用tcp什么时候用udp tcp三次握手为什么三次 重传为什么重传，什么情况重传 滑动窗口了解吗 计算一个马从左下角到右下角的路径数量\(象棋的马\)。 如果是是不规定从左下角到右下角。规定从a到b。你怎么确定它要前进的方向呢 红黑树添加一个数据，它是怎么实现平衡的 二叉树的遍历方式。什么时候用前序，后序，中序，和层次 怎么判断一个链表是否有环 快慢指针的方式要走多少步 9.19 老虎正式批 windows开发三面

三面可能就走个过场，基本没问啥问题，就问了个逆波兰式和智能指针和一个算法题

传面经，攒人品，希望大家拿到自己心仪的offer

1、手写算法题：多条单链表求交集的函数，链表有序，节点内存储数字。

2、Linux命令，我提了一句笔记本也用的linux桌面版，继续追问使用的哪个发行版，arch，为什么用这个，考虑那些方面……

3、C++了解吗？大一写，现在好久没写了……（从这里听出来面试官是C++了……

4、翻转链表

5、判断有向图中是否有环，如何判断有几个环？

6、快速排序

7、HashMap的用途，介绍一下你理解的HashMap

8、多进程和多线程，一个服务使用多进程和多线程去写有什么区别？

9、C++里面的指针指向的地址是虚拟地址还是物理地址？逻辑地址，说了一下操作系统的内存管理

10、操作系统中外设与CPU如何交互，以键盘与CPU交互为例讲一下。

11、系统调用怎么实现的？

12、操作系统中的缓存不够它会怎么做？

把一部分数据放到硬盘上在放回来

13、进程内部的两个线程如何通信？如何确保线程之间修改数据的安全性？

14、悲观锁和乐观锁是什么样的概念？

15、关于锁的概念，除了悲观锁和乐观锁你还知道些什么？说了说读写锁，独占锁、共享锁、可重入锁的概念，主要是针对ReentrantLcok说了一下底层实现 \(可重入锁\)

16、一个200G的文件与一个300G的文件，本机内存有限该如何找出两个文件中重复出现的数据？这里说了允许低错误率可以使用多个哈希映射一个值到bitmap上，或者使用归并排序，这里面试官说让再去了解了解。

17、最后问了下项目，他看到的简历和我说的不一致……我有点纳闷，难道看的是我春招的简历？面完之后来牛客网上看到投递的简历是没问题的，有牛友知道的话说一下这是怎么回事？

作者：starrring 链接：[https://www.nowcoder.com/discuss/183113](https://www.nowcoder.com/discuss/183113) 来源：牛客网

C++:

1、 虚函数的作用以及实现原理？

2、 熟练STL吗? STL中有什么类?

3、 Vector是怎么实现的？

4、 如果vector最开始是2^4，然后每次不够就翻倍，要经过几次的变换达到10000的内存（楼主慌忙之中算了一下大概是2^14接近于10000，就说了大概在13和14次之间吧，然后他就问你忘了最开始的4次方了吗，楼主连忙说“啊，对，应该是10次，不好意思啊”）

算法：

1、在之前回答完A\*算法后又让我简介下最小路径算法（楼主说了Dijkstra和floyd算法）

2、找出一个无序数组n中大小前K个数据（楼主说了O\(n\)的类似快排的计数算法）

3、这个算法时间复杂度是多少（O\(n\)）

4、为什么是O\(n\)（理想情况下每次都在一半里面寻找，1/2+1/4+1/8+…，最后就是O\(n\)）

5、这个算法时间复杂度的系数是多少（楼主慌忙之中给他算了一下，2）

6、如果k很小怎么办（楼主说了O\(nlogk\)的最大堆算法）

7、你说的最大堆算法时间复杂度是多少？（O\(nlogk\)）

8、你觉得比之前的O\(n\)好吗？（楼主心想好像确实不太对，但是该怎么编呢，就说如果k特别小的话logk是可能小于2的）

9、那k要多小呢？（4）

10、那假如说k=5呢（楼主此时已经冷静下来了，然后就说前面那个算法比较理想的情况系数才等于2，可能分的情况不好的时候就性能很差，而我后面这个算法就很确定是O\(nlogk\)，后来他就肯定了楼主说其实就是想考察前面这个算法不稳定）

11、如果说内存很小怎么办（楼主就说还是会采用第二个算法，因为只要满足k个大小的内存，后面的数据只要依次调入内存和最大堆堆顶元素进行比较就可以了）

12、如果k比内存还大怎么办（楼主就慌了，想到外部排序和归并，但具体怎么实现的就记不太清了，慌忙中就说了下外部排序和败者树（亚军一定是和冠军比输了的），其实也没怎么答好吧，后来他就没有继续问算法了）

网络：

1、 学过网络吗，都学了些啥（楼主也不可能详细展开啊，就说主要是学7个层嘛）

2、 了解TCP吗（学过，正想他会问TCP3次握手吧，他就又发问了）

3、 有实现过TCP吗，知道是怎么实现的吗（楼主内心一慌，就说以前实验有模拟过一次，但是太久远记不太到了，主要就是模拟客户端和服务端，好像调用了一个system库）

4、 是linux下的库吗（不是，windows下的）

5、 那具体干了什么（好久以前做的，不记得了，楼主就扯了下TCP三次握手）

有什么问题想问他吗？

End

腾讯ieg：

1、 虚函数的作用以及实现原理？

2、 一个空类占多少内存

3、 一个空类继承了有虚函数的基类占多少内存，为什么？

4、 如果基类里有多个虚函数这个空类占多少内存？

5、 构造函数可以是虚函数吗

6、 析构函数可以是虚函数吗

7、 Struct{int a;char b;int c;int d;char e;char f}占多少

8、 Void func\(char _ptr\){ptr=\(char_\)malloc\(char\);}

int main\(\){char \*ptr=null;func\(ptr\);strcpy\(ptr,”hello world”\);}

可以运行吗？错在哪？怎么改？改完还有一个错是什么？

9、 void func\(void _pSrc,void_ pdest,int length\){}

实现一个底层函数，把pSrc内容拷到pDest里，pSrc和pDest分配好内存，底层函数不需再分配内存，length是需要拷贝的长度（问了他才告知分配的长度可能不够用，最后写完了他说可能有交叉，然后pdest在psrc前怎么复制，pdest在psrc后怎么复制）

有什么问题想问他吗？

腾讯IOS:

主要问的项目（楼主的美图软件项目是IOS的）

1、 生命周期时间（viewdidload等6个）

2、 如何把合成后的图片取出来（记不太到了，但是记得是一个函数直接拿出来的，后来看了下自己的代码是getImageFromView）

3、 除了ImageView还用了什么（Slider,fresh，手势）

4、 还记得手势的函数名吗

5、 为什么用到fresh\(之前实验做学生管理系统用过，里面有tableview\)

6、 讲一下tableview的从创建到释放的过程（我们创建直接用的MainStory，就没深究了）

7、 讲一下滤镜的实现（给他讲了一下我实现的滤镜）

8、 讲一下模糊的实现（直接掉的库，GPUImage）

9、 还记得CPUImage的过程吗（其实不太记得了，但是是很模板化的，讲了一下有首先选一个filter,然后有个process把fiter加进去）

算法：

1、 排序算法有哪些

2、 说一下快排的实现，时间复杂度，最坏时间复杂度

3、 说下堆排的实现，时间复杂度，最坏时间复杂度

操作系统：

1、 死锁

2、 死锁的四个条件

有什么想问他的

总结：其实全程就问了20-30min，说我Ios基础比较差，但是因为楼主可实习时间较长，只要愿意学就行，就给过了一面，让我准备下算法和操作系统等基础知识，以备二面

我准备的资料（前方高能！！！1w+的字居然能传上去，本来还想用文档上传百度云的，牛客网NB）

网易：

C++方面的问题：

1、虚函数的作用以及实现原理

2、overload以及overwrite的区别

1）覆盖override：派生类函数覆盖基类函数, 基类函数必须有virtual 关键字。

2）重载overload：可以将语义、功能相似的几个函数用同一个名字表示，但参数不同（包括类型、顺序不同），即函数重载。

3）重写overwrite：派生类的函数屏蔽了与其同名的基类函数

3、overload的话，只有函数返回值类型不同，会重载吗

不会

4、一个空的class类里有什么

1）构造函数

2）拷贝构造函数

3）析构函数

4）赋值运算符重载

5）取地址操作符重载

6）被const修饰的取地址操作符重载

5、struct S{char a; int b; static long c; }请问sizeof\(S\)是多少？为什么，有什么好处？

涉及到内存对齐机制

静态数据成员被编译器放在程序的一个global data members中，它是类的一个数据成员．但是它不影响类的大小，不管这个类实际产生了多少实例，还是派生了多少新的类，静态成员数据在类中永远只有一个实体存在。

而类的非静态数据成员只有被实例化的时候，他们才存在．但是类的静态数据成员一旦被声明，无论类是否被实例化，它都已存在．可以这么说，类的静态数据成员是一种特殊的全局变量．

所以该类的size为：32位系统上，是8个字节，字节对齐，方便寻址操作（当CPU试图读取的数值没有正确的对齐时，CPU可以执行两种操作之一：产生一个异常条件；执行多次对齐的内存访问，以便读取完整的未对齐数据，若多次执行内存访问，应用程序的运行速度就会慢）

6、用过动态指针吗

7、熟练STL吗

8、STL中有什么类（STL中有向量类）

1）vector: 内部实现是数组，一段连续的内存。

2）list， 内部实现是双链表

3）deque 内部实现是内存块的链表。

4）string： 连续的内存

5）set，map： 红黑树\(平衡二叉树的一种\)

6）hash\_map, hash\_set 用哈希表\(散列表\)来实现。

7）stack: 用vector或者是deque来实现

8）queue,用deque实现

9、由于用的是Pure C,把纯虚函数和虚函数弄混了，vtable答了上来，普通的继承多态啥的根本不问，问我有没有用过 C++和C交叉编译\(没用过\)、STL库\(我没用过\), 图形学的一些知识\(不会\)我当时真是尴尬万分…不过我说我用Lambda表达式，Java是1.8 的特性，C++里面是C++11的特性，面试官就问我Lambda的用法和好处，然后问我其他C++11的新特性有没有用过\(没…\)

10、const的作用，宏定义与const的区别

11、定义一个class，编译器的内存分配

1）类的大小为类的非静态成员数据的类型大小之和，也 就是说静态成员数据不作考虑。

2）普通成员函数与sizeof无关。

3）虚函数由于要维护在虚函数表，所以要占据一个指针大小，也就是4字节。

4）类的总大小也遵守类似class字节对齐的，调整规则。

12、函数重载，模板template，用法和区别

13、多态、虚函数、智能指针

14、指针与引用的区别

15、还有一些C++库函数的实现。

16、inline关键字是做什么用的？inline关键字在什么情况下会展开失败？

inline类似于宏替换，使用函数体替换调用处的函数名，省去了调用函数的开销，增快了代码的执行效率。但是又不是宏替换，inline函数是真正的函数，编译器会考虑语义。

函数体内代码长度过大，包含复杂的结构控制语句（while，switch）,包含内联函数本身，含有递归均会导致展开失败。

17、sizeof一个空类是多大？为什么？编译器为什么这么做？如果添加一个构造函数和析构函数呢？

1个字节，任何一个实例在内存中都占有一定的空间，也就有一个独一无二的地址，为了达到这个目的，编译器往往会给一个空类隐含的加一个字节，这样空类在实例化后在内存得到了独一无二的地址

调用构造函数和析构函数只需要知道函数的地址即可，而这些函数的地址只与类型相关，而与类型的实例无关，编译器也不会因为这两个函数而在实例内添加任何额外信息

18、在这个类中添加一个virtual函数后再sizeof，这时是多大？为什么？

C++编译器一旦发现一个类型有虚函数，就会为该类型生成虚函数表，并在该类型的每一个实例中添加一个指向虚函数表的指针，在32位系统中，一个指针占4个字节，因此sizeof得到4个字节

19、将这个类再virtual继承一个其它的空类，这是多大？为什么？

12个字节，这个类本身大小为4个字节，空类的大小为1个字节，加上虚基类偏移量表指针4个指针，又因为要指针对齐（4个字节），故一起12个字节（虚基类偏移量表不占用类的存储空间，表中记录了虚基类与本类的偏移地址；通过偏移地址，这样就找到了虚基类成员）

20、类有哪几种权限，分别说明？

private，protected，public

21、class A :class B{},A是私有继承还是？ 私有继承是做什么用的？

默认是私有继承，私有继承后，基类所有成员在派生类中为private成员。私有基类的public成员和protected成员在私有派生类中的访问属性相当于派生类中的私有成员，即派生类的成员函数能访问它们，而在派生类外不能访问它们。私有基类的私有成员在派生类中称为不可访问的成员，只有基类的成员函数可以引用它们。

22、子类的虚函数中能不能调用父类的虚函数，为什么？

23、有纯虚函数的类能不能实例化？

不能，有纯虚函数的类是抽象类，只能被继承，不能实例化。包含纯虚函是的类派生出来的类都必须重写这个纯虚函数

24、C++多态有哪几种？

静态多态（函数重载和运算符重载），是在编译的时候，就确定调用函数的类型；动态多态（虚函数实现），在运行的时候，才能确定调用的是哪个函数，动态绑定。运行基类指针指向派生类的对象，并调用派生类的函数。

a.应用形式上：静多态是发散式的，让相同的实现代码应用于不同的场合。动多态是收敛式的，让不同的实现代码应用于相同的场合。

b.思维方式上：静多态是泛型式编程风格，它看重的是算法的普适性；动多态是对象式编程风格，它看重的是接口和实现的分离度。

25、C++是怎么实现动态多态的？

虚函数表和指向虚函数表的vptr指针。这个需要注意vptr指针的分布初始化问题，是在构造函数之后，初始化列表和函数体之前完成的。

26、对象中的VPTR指针什么时候被初始化？

Vptr指针初始化的过程：

a.对象在创建的时,由编译器对VPTR指针进行初始化

b.只有当对象的构造完全结束后VPTR的指向才最终确定

c.父类对象的VPTR指向父类虚函数表

d.子类对象的VPTR指向子类虚函数表

当定义一个子类对象的时候比较麻烦，因为构造子类对象的时候会首先调用父类的构造函数然后再调用子类的构造函数。当调用父类的构造函数的时候，此时会创建Vptr指针（也可以认为Vptr指针是属于父类的成员，所以在子类中重写虚函数的时候virtual关键字可以省略，因为编译器会识别父类有虚函数，然后就会生成Vptr指针变量），该指针会指向父类的虚函数表；然后再调用子类的构造函数，此时Vptr又被赋值指向子类的虚函数表。

（执行父类的构造函数的时候Vptr指针指向的是父类的虚函数表，所以只能执行父类的虚函数）

上面的过程是Vptr指针初始化的过程。

这是因为这个原因，在构造函数中调用虚函数不能实现多态。

27、简要说说C++的静态多态?

函数重载和运算符重载，见上上题。

28、C++编译后的函数符号和C语言编译后的函数符号有哪些区别？为什么

C++语言支持函数重载，C语言不支持函数重载。函数被C++编译后在库中的名字与C语言的不同。假设某个函数的原型为void func\(int x,int y\)。该函数被C编译器编译后在库中的名字为\_foo，而C++编译器则会产生像\_foo\_int\_int之类的名字。 C++中提供了C连接交换指定符号 extern "C" 解决名字匹配问题。

29、C++智能指针有哪些？auto\_ptr和share\_ptr有什么区别？他们有什么作用？

STL一共给我们提供了四种智能指针：auto\_ptr , unique\_ptr , shared\_ptr和weak\_ptr

auto\_ptr的初衷是用来实现智能指针的，实现内存的自动回收。那么如何实现智能的呢？智能指针最基本的概念是引用计数，也就是智能指针内部有一个计数器，记录了当前内存资源到底有多少指针在引用（可以引用这个资源），当新增加一个可以访问这个资源的引用时，计数器会加1，反之会减去1，当计数器为0时，智能指针会自动释放它所管理的资源。手动申请，自动释放，就是智能的体现。

30、有序vector和list二分查找的时间复杂度分别是多少？

vector的二分相当于数组的二分，时间复杂度是O\(logn\)，list没办法二分，只能每次从头到尾找，时间复杂度为O\(n\)。

31、vector自动扩容是按什么大小进行的？

缺省的情况下vector的扩展机制是按2倍大小进行扩展的。在整个大小扩展的过程中，主要的步骤是：a.为需要的新容量分配足够的内存；b.将元素从原来的内存拷贝到新内存中去；c.销毁原来内存中的元素；d.归还原来的内存。

32、构造函数可以调用虚函数吗？语法上通过吗？语义上可以通过吗？

语法可以通过，但是语义不对。

总结来说：基类部分在派生类部分之前被构造，当基类构造函数执行时派生类中的数据成员还没被初始化。如果基类构造函数中的虚函数调用被解析成调用派生类的虚函数，而派生类的虚函数中又访问到未初始化的派生类数据，将导致程序出现一些未定义行为和bug，因此c++不让你走这条路。 33、析构函数可以抛出异常吗？为什么不能抛出异常？除了资源泄露，还有其他需考虑的因素吗？

1）如果析构函数抛出异常，则异常点之后的程序不会执行，如果析构函数在异常点之后执行了某些必要的动作比如释放某些资源，则这些动作不会执行，会造成诸如资源泄漏的问题。

2）通常异常发生时，c++的机制会调用已经构造对象的析构函数来释放资源，此时若析构函数本身也抛出异常，则前一个异常尚未处理，又有新的异常，会造成程序崩溃的问题。 34、c++中类型转换机制？各适用什么环境？dynamic\_cast转换失败时，会出现什么情况？（对指针，返回NULL.对引用，抛出bad\_cast异常）

对指针进行dynamic\_cast，失败返回null，成功返回正常cast后的对象指针；

对引用进行dynamic\_cast，失败抛出一个异常，成功返回正常cast后的对象引用。

35、拷贝构造函数作用及用途？什么时候需要自定义拷贝构造函数？

1\) 一个对象以值传递的方式传入函数体； 2\) 一个对象以值传递的方式从函数返回； 3\) 一个对象需要通过另外一个对象进行初始化；

36、c++里面的虚函数的原理和实现

37、平时开发当中多态用的多么？

38、 多态的开销有多大？

39、菱形继承的虚函数的开销说一下

40、malloc是如何实现的？

malloc基本的实现原理就是维护一个内存空闲链表，当申请内存空间时，搜索内存空闲链表，找到适配的空闲内存空间，然后将空间分割成两个内存块，一个变成分配块，一个变成新的空闲块。如果没有搜索到，那么就会用sbrk\(\)才推进brk指针来申请内存空间。

41、如果物理内存是2G 如果mallco 4G可以么？会有什么问题？

malloc的实现与物理内存自然是无关的，分配到的内存只是虚拟内存，而且只是虚拟内存的页号，代表这块空间进程可以用，实际上还没有分配到实际的物理页面。

42、能说一下STL几种容器么说一下这些容器的对比

43、vector和list的使用场景区别

1 如果你需要高效的随即存取，而不在乎插入和删除的效率，使用vector

2 如果你需要大量的插入和删除，而不关心随即存取，则应使用list

3 如果你需要随即存取，而且关心两端数据的插入和删除，则应使用deque

44、C++析构和构造的顺序，为什么析构函数最好是虚函数

1）构造函数顺序：先基类、再数据成员中是类对象的构造函数、最后派生类构造函数的函数体

2）析构函数顺序：与构造函数相反

3）析构函数最好是虚函数：若派生类有一个指向动态内存分配的数据成员，而又将基类的指针指向派生类对象，同时基类的析构函数又不是虚函数的话，编译器就实施静态绑定，释放基类指针所指对象的空间时候只执行基类的析构函数，不执行派生类的析构函数，那派生类动态分配的数据成员所申请的空间就不能被释放，这就造成了内存泄漏。

45、虚函数和虚函数表

1）虚函数：声明成员函数为虚函数以后，就可以实现动态绑定，也就是基类指针可以指向派生类对象，实现相同函数名的派生类的特定行为

2）虚函数表：就是用来运行时查询，帮助系统将某一函数名绑定到虚成员函数表中特定入口地址

46、智能指针了解么，全部都讲一下怎么用，会出现什么问题

47、知道c++11新特性吗，知道智能指针吗，知道智能指针实现吗，来你给我马上实现一个智能指针【要求写出成员和构造函数析构函数】

48、C 简单问了下static，然后就转战别的基础了。

数据结构和算法：

1. 向量和队列有什么区别

1）向量：能高效的进行随机存取，时间复杂度为o\(1\); 在进行插入和删除操作时，会造成内存块的拷贝，时间复杂度为o\(n\)。

2）队列：能高效的进行随机存取，时间复杂度为o\(1\);在内部方便的进行头尾部的插入和删除操作，时间复杂度为o\(n\)。

1. 向量和队列的实现原理是什么（当时我说可以用链表以及数组，面试官就问我链表如何实现向量的随机访问，然后我就意识到链表不能实现向量了，因为不能实现随机访问，这个问题我答地比较糟糕）

1）向量: vector和数组类似，拥有一段连续的内存空间，并且起始地址不变。因此能高效的进行随机存取，时间复杂度为o\(1\);但因为内存空间是连续的，所以在进行插入和删除操作时，会造成内存块的拷贝，时间复杂度为o\(n\)。另外，当数组中内存空间不够时，会重新申请一块内存空间并进行内存拷贝。

2）队列:deque的元素数据采用分块的线性结构进行存储，deque分成若干线性存储块，称为deque块。块的大小一般为512个字节，元素的数据类型所占用的字节数，决定了每个deque块可容纳的元素个数。

所有的deque块使用一个Map块进行管理，每个Map数据项记录各个deque块的首地址。Map是deque的中心部件，将先于deque块，依照deque元素的个数计算出deque块数，作为Map块的数据项数，创建出Map块。以后，每创建一个deque块，都将deque块的首地址存入Map的相应数据项中。

1. 什么是优先队列（当时我回答说优先队列可以用堆实现，面试官就问了第4个问题）

优先队列队首元素一定是当前队列中优先级最高的一个

优先队列可以用堆实现

1. 堆是用最大堆还是最小堆实现优先队列，为什么？

默认是用最大堆实现优先队列（priority\_queue, less &gt;默认衍生自vector,数字大的优先级越高）

1. 如果返回堆中最大的元素，要怎么做？

取堆顶元素，如果要取完后要删除，则把最后一个元素移至第一个元素，并将size自减1，然后从堆顶元素自上向下进行整堆

1. 如果堆中某元素的序号是5，那他两个自孩子的序号分别是多少？

10、11

1. 说一下快排的时间复杂度

平均复杂度O\(nlogn\),最坏情况下O\(n^2\),最好情况下O\(nlogn\)

1. 什么样的情况是快排的最坏情况，举个例子

元素均有序是快排的最坏情况

1. 如何解决快排的的最坏情况（我说的随机打乱）

选择划分元的时候随机进行选择

1. 说说随机打乱的具体实现
2. 给一系列整形数，其中除了一个数只有一个之外，其他数都有两个，请设计算法找到只有一个的那个数（我开始回答计数排序，后来他又问我有没有别的，我就说全放到set里，可以排除所有那些添加进set里让set元素个数不增加的所有元素，剩下的就是要找到那个数，不知道对不对，感觉应该还有更好的方法）

从头到尾将这n个数异或一遍，得到的数即为要找的那个数。

一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。

思路:1）如果把数组中的所有数字都依次异或一遍，则可以消掉成对出现的数字，那么还有两个数字是单一的，肯定也不同，那么最终异或的结果肯定不是0。表示在二进制中肯定有一位是1，那么两个不同的数字，一定有一个在该位为1，另一个在该位为0。如果将整个数组按照该位是否为1分为两部分，那么这两部分各自包含一个单一数字。

12、一串数只出现一次，给定一个输入，让返回所有数对，数对中的两个数之和等于输入。我考虑了1min回答两种思路，第一种快排后两边向中间遍历，大了右边-1，小了左边+1, O\(nlogn\)的复杂度，然后就是说不排序就和冒泡一样遍历，O\(n2\)的复杂度。

13、问了游戏排行榜的数据结构应该怎么设计

我先说只取前几名的话堆排序，如果不是前几名的话要看查询多还是改动多，然后说目前只能想到BST。然后又聊会说可以先分组，再排序，就和Query 的select一样，最后join就可以了。后来上网上看了下，网上答案是桶排序和红黑树，虽然自己回答的不精确，不过看来思路还是差不多的。

14、要求我写快排，基本上就是说下思路就可以了，没什么难度。

15、数据库B+树（不了解B+树，扯了扯红黑树）

16、给你一个表（数据很大），有用户名和数据，如何快速检索某条数据

对索引排序+二分查找，对索引建表，在新表里可以用hash、分区等操作\(B+树\)

17、对数据压缩熟悉不（不熟悉，实习的时候直接调用导师接口，面试官就没接着问）

18、只有大小写英文字母的文本文档，数据量很大，如何压缩表示（因为我说了不懂数据压缩，就出了一个相关问题）

哈夫曼编码+详细实现过程，还可以对重复出现的字母加下标，对重复出现的子串编码（后面两种方法针对可能的具体问题，主要还是哈夫曼编码

19、游戏中，地图很大，英雄的技能释放半径和英雄的坐标已知，如何知道每个英雄的技能范围内的对手（维护一个以技能半径为阈值的大根堆，范围内的入堆，范围外的出堆，面试官不太满意，说不够全面，说只给出了一个环节的方法）

20、一个数组，把所有奇数排在偶数前面，且保证奇数和奇数相对位置不变，偶数和偶数相对位置不变

再用一个数组

21、检测npc之间的距离

22、Hash的知识。（hash的构建与冲突处理。）

1）构建：a直接定址法b除留余数法c数字分析法d平方取中法e折叠法

2）冲突处理：a.开放定址法（线性探测、平方探测、再散列）b拉链法

23、hash冲突，怎么解决（散链表，双重hash，等等）

24、图的搜索有哪几种方式？广搜要怎么做？需要什么额外空间吗

DFS和BFS，其中BFS需要开辟队列内存，DFS需要栈。

25、给定一个迷宫，部分坐标是无法通过的，求某两点间最短路径？（广搜+并查集）

从起点到终点的最短路径其实就是一个建立队列的过程：

1）从起点开始，先将其加入队列，设置距离为0；

2）从队列首端取出位置，将从这个位置能够到达的位置加入队列，并且让这些位置的距离为上一个位置的距离加上1；

3）循环2直到将终点添加到队列中，这说明我们已经找到了路径；

注意到在这个过程中，每次处理的位置所对应的距离是严格递增的，因此一旦找到终点，当时的距离就是最短距离；

26、简述Dijkstra算法的过程，描述一下A Star算法

A\*算法：

1）把起点加入 open list 。

2）重复如下过程：

a.遍历 open list ，查找 F 值最小的节点，把它作为当前要处理的节点。

b.把这个节点移到 close list 。

c.对当前方格的 8 个相邻方格的每一个方格？

◆ 如果它是不可抵达的或者它在 close list 中，忽略它。否则，做如下操作。

◆ 如果它不在 open list 中，把它加入 open list ，并且把当前方格设置为它的父亲，记录该方格的 F ， G 和 H 值。

◆ 如果它已经在 open list 中，检查这条路径 \( 即经由当前方格到达它那里 \) 是否更好，用 G 值作参考。更小的 G 值表示这是更好的路径。如果是这样，把它的父亲设置为当前方格，并重新计算它的 G 和 F 值。如果你的 open list 是按 F 值排序的话，改变后你可能需要重新排序。

d.停止，当你

◆ 把终点加入到了 open list 中，此时路径已经找到了，或者

◆ 查找终点失败，并且 open list 是空的，此时没有路径。

3）保存路径。从终点开始，每个方格沿着父节点移动直至起点，这就是你的路径。opened\_table：采用优先队列实现的小顶堆，用于存放待扩展结点，同时利用F值作为排序指标；

closed\_table：采用set（红黑树）实现，便于快速查找格是否存在于closed\_table中；

27、找出一个无序数组中大小后K个数据？

类似于快速排序的思想，随机选取一个元素，把所有小于等于这个元素的数据移到左边，所有大于这个元素的数据移动到右边。

如果这个元素成了第K个数，直接返回这个数。如果左边的个数大于K，不管右边的数了，在左边重复上面的过程。如果左边的个数等于T&lt;K,不管左边的数了，重复上面的过程，只是K=K-T-1。平均情况下，第一次划分的时间复杂度是O\(N\)，第二次就是O\(N/2\),总共是O\(n+n/2+n/4+...\)=O\(n\)

28、Set的底层实现是什么？红黑树是做什么用的？额外开销是多少？

set的底层实现是红黑树。红黑树是一种平衡二叉查找树。a结点是红色或黑色。b根节点是黑色，每个叶子结点都是黑色，c每个红色结点的两个孩子结点都是黑色。d从每个叶子到根的所有路径上不能有两个连续的红色结点。e从任一结点到其每个叶子的所有路径都包含相同数目的黑色结点。

红黑树和AVL树一样都对插入时间和删除时间以及查找时间提供了最好可能的最坏保障。时间复杂度是O\(logn\)，需要额外的空间也是O\(logn\)

29、给定1000亿个数据，要找出其中最大的一个值，内存只有1G？

大文件变小文件，然后每个文件里hash\_map统计最大的值，然后再归并排序。

30、给定1000亿个数据，里边有的数据有重复，要求设计一个算法删除重复数据？要求尽量快。

先取模分成小文件，然后每个文件使用hash\_map或者trie树。

31、洗牌算法，如何证明算法是随机的

需要随机置乱的n个元素的数组array： for\( i =n-1;i&gt;=1;i--\) \(0 =&lt; j &lt;= i\) 交换array\[i\]和array\[j\] end 32、100万个32位整数，如何最快找到中位数。能保证每个数是唯一的，如何实现O\(N\)算法？ 这道题是编程之美或编程珠玑上的。 这道题使用位图，需要空间复杂度是512Ｍ。

33、hashmap和treemap

34、linux rwxrwxrwx文件拷贝

35、版本控制，github指令

38、n个球要分成m堆每个堆不能为空，有多少种分发

39、红黑树实现

每次先按BST方法插入数据，每次都将插入节点变红，然后再自下而上调整节点颜色，使其满足红黑树性质

40、堆了解么？怎么删除元素？怎么插入元素？

删除：删除顶元素，将最后一个数据移到第一个，size自减1，然后从第一个节点自上而下进行整堆

41、图的遍历介绍一下

DFS、BFS

42、你看，现在我百度一个ip地址可以查到那个IP的实际省市显地址，现在我给你每个县/村的ip段，要求你实现一下输入查找功能。【大概是问数据库，我完全不会，瞎答了】

43.你看看我们阴阳师手游里面，可以摇绳子【手机给我展示了一下，真的是像绳子不是单摆】，现在我要你来实现一个绳子，要可以摇那种。

44.你看我打开一个谷歌网页，输入一些单词，他下面给我提示了一些可能我需要的选项，比如我输入一个tail出现了balabala。你现在给我实现一下这个功能，会用什么数据结构什么算法呢。

1）Trie是一颗存储多个字符串的树。相邻节点间的边代表一个字符，这样树的每条分支代表一则子串，而树的叶节点则代表完整的字符串。和普通树不同的地方是，相同的字符串前缀共享同一条分支。

2）hashmap统计: 先对这批海量数据预处理。具体方法是：维护一个Key为Query字串，Value为该Query出现次数的HashTable，即hash\_map\(Query，Value\)，每次读取一个Query，如果该字串不在Table中，那么加入该字串，并且将Value值设为1；如果该字串在Table中，那么将该字串的计数加一即可，最终在O\(N\)的时间复杂度内用Hash表完成了统计。

3）堆排序：借助堆这个数据结构，找出Top K，时间复杂度为N‘logK。即借助堆结构，我们可以在log量级的时间内查找和调整/移动。因此，维护一个K\(该题目中是10\)大小的小根堆，然后遍历300万的Query，分别和根元素进行对比。所以，我们最终的时间复杂度是：O（N） + N’ \* O（logK），（N为1000万，N’为300万）。

45、.你说你打过acm比赛，acm比赛主要是用算法数据结构吧，你说说你觉得你遇到过的最巧妙的一个数据结构或者算法题是什么。【我回答了rope，正好面试官没听过，然后给他瞎bb了一番】

46、给你11位电话号码，让你通过电话找名字 47、 给你多个ipv4的区间，每个区间属于一个城市，如0.0.0.1-1.1.1.1属于北京，给你一个ipv4地址，你要输出所属的城市，如1.1.1.0输出北京。区间有可能会重叠，如果询问的ipv4属于多个城市，则输出所有所属城市。 48、平面最近点对。

计算机网络：

1、TCP和UDP的区别

2、tcp的可靠性怎么保证（三次握手、四次挥手、确认序列号）

1）检验和

典型的有CRC校验法。在要传输的k比特数据D后添加\(n-k\)比特冗余位。

2）序列号

通过序列号，可以去重、超时重传、数据有序到达。

3）确认应答

可以确认ACK之前的数据肯定到达了，保证了可靠性。

4）超时重传

发送的数据有可能因为网络拥堵，没有及时到达，发送端没有收到确认，超过计时器，就会进行重发。

发送端有可能收到许多重复确认，累计到一定次数，TCP认为网络或者接收端出现异常，重新发送丢失的数据包。

5）连接管理

通过三次握手四次挥手，也可提高可靠性。

6）流量控制

接收端处理数据的速度是有限的，如果发送端发的太快，接收端缓冲区容易满，会造成丢包以及引起丢包重传。

7）拥塞控制

发送数据的时候，不能刚开始就发送大量的数据，所以在不清楚网络状况的情况下，不能贸然发送大量的数据，有可能加重网络负担，TCP会使用慢启动机制，探探路，所以刚开始的时候，将拥塞窗口设为1，以后是指数增长，当达到阈值的时候，按照线性增长，到达拥塞窗口的最大值后，拥塞窗口重回1。

3、TCP和UDP的区别？分别举例它们的上层协议？

TCP是基于连接的，可靠的，偏向于传输大量数据，速度慢，http，ftp，smtp，telnet使用了tcp；UDP是无连接的，不可靠的，偏向于传输少量数据，速度快，dns,tftp,rip,snmp，rtp,nfs等使用了udp。

4、TCP4层网络层次、3次握手

5、TCP和UDP的知识点。TCP讲三次握手和四次挥手。

（1）三次握手

第一次握手：主机A发送同步报文段（SYN）请求建立连接。

第二次握手：主机B听到连接请求，就将该连接放入内核等待队列当中，并向主机A发送针对SYN的确认ACK，同时主机B也发送自己的请求建立连接（SYN）。

第三次握手：主机A针对**主机B**SYN的确认应答ACK。

（2）四次挥手

第一次挥手：当主机A发送数据完毕后，发送FIN结束报文段。

第二次挥手：主机B收到FIN报文段后，向主机A发送一个确认序号ACK（为了防止在这段时间内，对方重传FIN报文段）。

第三次挥手：主机B准备关闭连接，向主机A发送一个FIN结束报文段。

第四次挥手：主机A收到FIN结束报文段后，进入TIME\_WAIT状态。并向主机B发送一个ACK表示连接彻底释放。（如果客户端的确认应答丢失，算上这个丢失报文的时间，再加上服务端重传FIN的时间（重传后客户端重新启动2MSL计时器），2MSL的时间足够使客户端收到重传的FIN报文段。所以客户端不能立即进入CLOSED状态。）

6、网络，dns、https和http，非对称加密和加密比较一下

操作系统：

1. 进程和线程的区别

1）进程是系统分配资源（CPU以外）的基本单位

2）线程是被系统独立调度的基本单位（CPU的分配单位）

1. 线程间怎么共享资源

线程直接读/写进程数据段（如全局变量）来通信

3、线程使用共享资源会出现什么问题？需要怎么做？

操作系统具有异步性，如果对共享资源的访问不加以约制，一些具有相互制约、相互合作的线程得到的最终结果可能是错的

设置临界区，对临界区资源设置信号量，进行同步和互斥

4、多线程同步方式

1）软件实现方法（皮特森算法（双标志和单标志）：

Pi: flag\[i\]=true; turn=j; while\(flag\[j\]&&turn==j\); ）

2）硬件实现方法（中断屏蔽方法（屏蔽中断/关中断）、硬件指令方法（原子操作））

3）信号量（PV操作）

4）管程（解决临界区分散所带来的管理和控制问题，包括共享结构数据说明、一组操作、设置共享数据初始值语句）

5、如何进行线程同步？在Windows下举例？分用户模式下同步和内核模式下同步 讨论？

用户模式下的方法有：原子操作（例如一个单一的全局变量），临界区。

内核模式下的方法有：事件，信号量，互斥量。

6、同步机制应遵循的准则

1）空闲让进

2）忙则等待

3）有限等待

4）让权等待

1. 进程间通信有哪些算法or多进程通信方式

1）共享存储（PV操作对共享空间读写进行同步互斥）

2）消息传递（1直接通信方式，挂在接收进程的消息缓冲队列上2间接通信方式，即信箱）

3）管道通信（管道是连接读进程和写进程通信的共享文件，限制管道大小，缓冲区允许一边写入另一边读出，管道通信是半双工通信）

4）客户机-服务器系统（包括：套接字（socket），远程过程调用和远程方法调用）

8、进程间通信有哪几种方式？在特定环境（比如两个程序需要共享一个文本）下哪种效率最高？Windows下如何进行内存共享？

无名管道，有名管道，信号量，信号，高级管道，消息队列，共享内存，sokect等，共享内存的效率最高，因为它可以直接读写内存，而不需要任何的数据拷贝。windows下主要通过映射机制实现的。共享内存的方式原理就是将一份物理内存映射到不同进程各自的虚拟地址空间中，这样每个进程都可以读取同一份数据，从而实现进程通信。因为是通过内存操作实现通信，因此是一种最高效的数据交换方法。

9、进程和线程的区别、进程如何调度（扯了进程维护线程池，临界区、事务、信号量、信号）

1）先来先服务调度算法

2）短作业优先调度算法

3）优先级调度算法

4）高响应比优先调度算法（响应比=（等待时间+要求服务时间）/要求服务时间）

5）时间片轮转调度算法

6）多级反馈队列调度算法

10、 简单说一下进程间切换发生的事情

1）保存处理机上下文，包括程序计数器和其他寄存器

2）更新PCB信息

3）把PCB移入相应的队列，如就绪、阻塞队列

4）选择另一个进程执行，并更新其PCB

5）更新内存管理的数据结构

6）恢复处理机上下文

7、进程安全如何保证（扯了进程的数据同步和锁的实现

安全状态：能找到一个分配资源的序列让所有进程都顺利完成

11、进程在什么情况下会互锁

多个进程同时占有对方需要的资源而同时请求对方的资源,而它们在得到请求之前不会释放所占有的资源

（1） 系统资源的竞争

（2） 进程推进顺序非法（信号量使用不当，A等B的消息，B等A的消息）

12、互锁怎么解决

1）预防死锁（设置某些限制条件，破坏死锁四个必要条件之一）

2）避免死锁（动态分配资源过程中，用某种方法防止系统进入不安全状态）

3）死锁检测及解除（剥夺资源、撤销进程、进程回退）

13、线程死锁的几个条件是什么？

（1）互斥条件：指线程对所分配的资源进行排他性使用，即在一段时间内某资源只由一个线程占用。

（2）请求和保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。

（3）不可剥夺条件：进程已获得的资源，在未使用之前，不能强行剥夺。

（4）循环等待条件：指在发生死锁时，必然存在一个进程资源循环等待链，链中每一个进程已获得的资源同时被链中下一个进程所请求

14、给定两个线程，A，B两个锁，举个造成死锁的例子？

程序中使用多个互斥量时，如果允许一个线程一直占有第一个互斥量，并且在试图锁住第二个互斥量时处于阻塞状态，但是拥有第二个互斥量的线程也在试图锁住第一个互斥量，这时就会发生死锁。因为两个线程都在相互请求另一个线程拥有的资源，所以这两个线程都无法向前运行，于是就产生死锁。如果所有线程总是在对互斥量B加锁之前锁住互斥量A，那么使用这两个互斥量不会产生死锁

15、可能面试官了解到我是系统方向，所以让我解释一个Hello World程序从C到最终运行起来的过程。

基本上就是先编译，得到Symbol, 链接器Resolve Symbol, Printf属于动态链接库里面的内容 所以涉及到GOT和PLT表，然后操作系统开新的进程，Load二进制文件，将控制流跳到程序入口Main函数执行等等。面试官听到动态链接库，又问了我一些动态链接库的内容和进程的地址空间和 内存的映射\(基本上就是回答新进程的地址空间只是映射了Kernel代码，不用创建新的，动态链接库也是映射过来可以执行balabala

16、程序有哪几种链接方式？分别说明区别？哪种效率高？如果一个动态库没有.lib和头文件，要怎么使用里面的函数？

1）静态链接：在程序运行之前，先将各个目标模块及它们所需的库函数，链接成一个完整的装配模块，以后不再拆开。我们把这种事先进行链接的方式称为静态链接方式。

2）装入时动态链接：将用户源程序编译后所得到的一组目标模块，在装入内存时，采用边装入边链接的链接方式。

3）运行时动态链接：这是指对某些目标模块的链接，是在程序执行中需要该目标模块时，才对它进行的链接。（便于修改和更新，便于实现对目标模块的共享）

第三种方式效率较高。还可以节省大量的内存空间。

17、cache的作用和实现机制，讲了LRU、FIFO和LEU，详细介绍了LRU的三种实现

Cache作用：调节CPU与主存读取速度不一致的矛盾

Cache实现机制：将Cache和主存都分成若干大小相等的块，Cache中存储主存中最活跃的若干块副本

页面调度算法：

最佳置换算法OPT:选择以后不用的页面

最近最久未使用LRU:选择最近最久未使用的页面（堆栈类算法，需要寄存器和栈的硬件支持）

最不经常使用LFU:将一段时间内访问次数最少的页面换出

先进先出FIFO:选择最先装入内存的页面（基于队列）

时钟置换算法CLOCK\(NRU\):选择最近未用的页面

改进的时钟算法：考虑页面修改问题

18、问了操作系统的调度，页表之类的问题，然后讲了讲缓存算法。（LRU要求讲一下怎么实现）

LRU的实现：

1）用一个数组来存储数据，给每一个数据项标记一个访问时间戳，每次插入新数据项的时候，先把数组中存在的数据项的时间戳自增，并将新数据项的时间戳置为0并插入到数组中。每次访问数组中的数据项的时候，将被访问的数据项的时间戳置为0。当数组空间已满时，将时间戳最大的数据项淘汰。

2）利用一个链表来实现，每次新插入数据的时候将新数据插到链表的头部；每次缓存命中（即数据被访问），则将数据移到链表头部；那么当链表满的时候，就将链表尾部的数据丢弃。

3）利用链表和hashmap。当需要插入新的数据项的时候，如果新数据项在链表中存在（一般称为命中），则把该节点移到链表头部，如果不存在，则新建一个节点，放到链表头部，若缓存满了，则把链表最后一个节点删除即可。在访问数据的时候，如果数据项在链表中存在，则把该节点移到链表头部，否则返回-1。这样一来在链表尾部的节点就是最近最久未访问的数据项。

对于第一种方法，需要不停地维护数据项的访问时间戳，另外，在插入数据、删除数据以及访问数据时，时间复杂度都是O\(n\)。对于第二种方法，链表在定位数据的时候时间复杂度为O\(n\)。所以在一般使用第三种方式来是实现LRU算法。

19、基址变址寻址

1）相对寻址：PC的内容加上指令格式中的形式地址A而形成操作数的有效地址

2）基址寻址：将CPU中基址寄存器（BR）的内容加上指令格式中的形式地址A，而形成操作数的有效地址（基址寄存器内容由操作系统确定，内容不变，形式地址可变，用于分配存储空间）

3）变址寻址：变址寄存器（IX）的内容加上指令格式中的形式地址A，而形成操作数的有效地址（变址寄存器内容可由用户改变，形式地址A不变，用于数组）

20、堆和栈的区别？

（1）管理方式不同。栈由操作系统自动分配释放，无需我们手动控制；堆的申请和释放工作由程序员控制，容易产生内存泄漏；

（2）空间大小不同。每个进程拥有的栈的大小要远远小于堆的大小。理论上，程序员可申请的堆大小为虚拟内存的大小，进程栈的大小64bits的Windows默认1MB

（3）生长方向不同。堆的生长方向向上，内存地址由低到高；栈的生长方向向下，内存地址由高到低。

（4）分配方式不同。堆都是动态分配的，没有静态分配的堆。栈有2种分配方式：静态分配和动态分配。静态分配是由操作系统完成的，比如局部变量的分配。动态分配由alloca函数进行分配，但是栈的动态分配和堆是不同的，他的动态分配是由操作系统进行释放，无需我们手工实现。

（5）分配效率不同。栈由操作系统自动分配，会在硬件层级对栈提供支持：分配专门的寄存器存放栈的地址，压栈出栈都有专门的指令执行，这就决定了栈的效率比较高。堆则是由C/C++提供的库函数或运算符来完成申请与管理，实现机制较为复杂，频繁的内存申请容易产生内存碎片。显然，堆的效率比栈要低得多。

（6）存放内容不同。栈存放的内容，函数返回地址、相关参数、局部变量和寄存器内容等。堆，一般情况堆顶使用一个字节的空间来存放堆的大小，而堆中具体存放内容是由程序员来填充的。

21、静态变量是存放在数据段或者BSS段，是不入栈的

22、mmu虚拟内存映射（MMU负责虚拟地址映射为物理地址）

虚拟内存是一些系统页文件，存放在磁盘上，每个系统页文件大小为4K，物理内存也被分页框，每个页框大小也为4K，这样虚拟页文件和物理内存页就可以对应，实际上虚拟内存就是用于物理内存的临时存放的磁盘空间。页文件就是内存页， 物理内存中每页叫物理页，磁盘上的页文件叫虚拟页，物理页+虚拟页就是系统所有使用的页文件的总和。

23、Windows提供了3种方法来进行内存管理：

1）虚拟内存，最适合用来管理大型对象或者结构数组；

2）内存映射文件，最适合用来管理大型数据流（通常来自文件）以及在单个计算机上运行多个进程之间共享数据；

3）内存堆栈，最适合用来管理大量的小对象。

Windows操纵内存可以分两个层面：物理内存和虚拟内存。，

24、虚拟内存组成部分：

1） 页表机制

2） 中断机构

3） 地址变换机构

4） 内存和外存

25、 epoll的文件描述符是否有拷贝过程？

26、 让你设计一个方式实现内核和用户态都没有拷贝 如何实现？

项目相关

1、 后来面试官问了我研究生阶段做的事情，问我有没有接触过网络编程，因为了解到我最近用python，就问我有没有用过socket或者select这两个库

2、 听完自我介绍后面试官就开始问我各种简历上的项目经历，首先是研究生期间做的虚拟化部分，我做了简单介绍。之后是大四的软件测试和嵌入式开发，大三的LeapMotion和Android App开发， 之前接触过的Kinect开发等等。了解完后就开始问我熟悉的编程语言\(我说的Java & Pure C\)。

了解到LeapMotion是做的有关一个游戏的内容后就开始问我详细内容，由于里面用到了交互设备和图形学的简单知识，问我了不了解OpenGL。\(我说的不了解，但是说了一些概念\)。 之后聊到 游戏开发引擎，我只说了我听说过Unity和Unreal.. 然后说的是我不了解，专业是系统方向。

3、 如果以前做过3D建模的项目，还会着重考察3D建模的知识。比如openGL、DirectX等。如果有Unity3D的经验就更好了。

4、 Redis底层的数据结构、跳表怎么实现的？hash表怎么实现的？怎么rehash?是不是rehash一定要全部复制？什么时候会触发rehash?redis持久化介绍一下，epoll和select介绍一下

5、 系统设计题1：网络分区的时候，a的朋友圈被b点赞了，怎么同步这个消息

6、 系统设计题2：实现一个高精度的定时器（最后提示了linux内核实现了一个，有空可以看看）

7、 简历上的项目是python写的web，然后问了一些python的知识，例如Django里面的AbstractUser是怎么对密码进行加密的\(项目里用了这个\)，然后还有mysql一些注入的问题。

Misc（杂）

1、 问了我关于骨骼动画的原理，因为这个我简历有写我在项目中提供做美术素材，这个部分应该跟每个小伙伴简历上具体内容相关。

2、 其中还问过我一些图形学的知识，不过我不是很了解，所以只是介绍了一下景深、3D里面摄像头balabala，把当时大三LeapMotion项目的内容说了一点点…

3、 你用过哪些设计模式？

工厂方法和抽象工厂有哪些区别？

工厂方法模式属于对象创建型模式，它定义一个用户创建对象的接口，让子类决定实例化哪一个类。工厂方法模式使一个类的实例化延迟到其子类。具体来说就是一个一个抽象产品类，派生出很多个具体产品类；同时，一个抽象工厂类，派生出多个具体工厂类。而每个具体工厂类只能创建一个具体产品类的实例。

抽象工厂模式也属于对象创建型模式，它提供了一个创建一系列相关或相互依赖对象的接口，而无须制定它们具体的类。具体来说就是在多个抽象产品类中，每个抽象产品类可以派生出多个具体产品类。一个抽象工厂类，可以派生出多个具体工厂类。每个具体工厂类可以创建多个具体产品类的实例。

区别：工厂方法模式只有一个抽象产品类，而抽象工厂模式有多个。工厂方法模式的具体工厂类只能创建一个具体产品类的实例，而抽象工厂模式可以创建多个。

工厂方法：说白了就是一个方法，这个方法是创建具体的产品的，它要求所有的工厂都具有同一个签名的方法，必要时重写该方法；

抽象工厂：不能直接创建产品，只能创建工厂，即抽象工厂创建的产品是工厂。

提问

最后，面试官让我问问题，我大概问了两个：

1. 游戏行业有没有程序与美术的双栖人才？
2. 实习做什么样的工作？（要看分到哪两个组里）

3、网易研发和策划之间的协作和不同，研发是有自己的考核机制，也有与策划的反馈机制，所以可以影响游戏的设计，不过影响不大。

4、问我这种方向差异比较大的要怎么跟进，面试官也是介绍了那边的培训制度，不用担心

腾讯： C++方面的问题：

1、 然后问了struct和class的区别

（当时说了默认public和private的区别）但是面试官不是很满意，可能应该有更深层次的说法，原谅我底层懂的真的不是很多。

C\#中：class 是引用类型，structs是值类型，当你实例化一个class，它将创建在堆上。而你实例化一个struct，它将创建在栈上

2、 const的作用（只记得定义常量，定义常量指针，常量成员函数）

const定义时赋初值，以后只能使用，不能修改

3、指针和引用的区别

4、函数参数传递

1）值传递（passl-by-value）过程中，被调函数的形式参数作为被调函数的局部变量处理，即在堆栈中开辟了内存空间以存放由主调函数放进来的实参的值，从而成为了实参的一个副本。值传递的特点是被调函数对形式参数的任何操作都是作为局部变量进行，不会影响主调函数的实参变量的值。

2）引用传递\(pass-by-reference\)过程中，被调函数的形式参数虽然也作为局部变量在堆栈中开辟了内存空间，但是这时存放的是由主调函数放进来的实参变量的地址。被调函数对形参的任何操作都被处理成间接寻址，即通过堆栈中存放的地址访问主调函数中的实参变量。正因为如此，被调函数对形参做的任何操作都影响了主调函数中的实参变量

5、c++的多态性。

6、问了对inline的理解。（C++）

解决一些频繁调用的小函数对栈内存重复开辟所带来的消耗

7、能否将构造函数定义为虚函数？

8、问了STL中map是利用何种结构和方法实现的。

红黑树

8、 C++的三大特性？

封闭性、继承、多态

10、多态是什么实现的？

11、指针和引用的区别？

12、const有什么用法？

13、内存泄漏、数组越界问题、指针非法访问问题？智能指针

14、C++初始化列表使用

15、stl容器可以放入智能指针吗？auto\_ptr不可以，其余的可以

16、c++的多态，多态的实现，还有STL库的一些实现

17、C++的构造函数和析构函数的执行顺序？

18、结构体和类有什么区别？

19、堆、栈一般放哪些数据？

数据结构和算法：

1、有100盏灯，从1~100编号，开始灯的状态是亮的，然后按照1的倍数，2的倍数，3的倍数。。。一直到100的倍数翻转，问你最后熄灭的是哪几盏灯。当时应该仔细想好再写代码的，一开始思路略微麻烦了一些，其实类似素数筛那样走一遍就可以了，大概nlogn。

2、然后还问了一个第k大的问题

3、问了在2D的环境下，有极大数量的物体（假设为小球），如何优化使得系统开销和性能最好？

4、假如有100个小球有碰撞的检测（其中有一个为用户），如果需要统计小球的碰撞的次数总和，如果减少性能要求的前提下进行实现？

5、假如有100个小球有碰撞的检测（每一个都是用户），如果需要统计小球的碰撞的次数总和，如果减少性能要求的前提下进行实现？

6、问了一下我简历上的项目，看到我用了快排，于是问我这样的算法快排是稳定的吗？本来准备了快排的概念、实现方法，结果对方说：我不想问这种东西，因为太基础了，每个程序员都应该熟练掌握的。

7、你知道哪些设计模式？常用到的模式有哪些？单例模式+适配器模式

8、像红黑树、二叉树啥的。我是连STL库一块问的，因为STL库的实现本身就用了很多数据结构；

9、谈谈对于数据结构的认识（因为楼主都快把数据结构背下来了，洋洋洒洒说了半个小时）10、b树b+树b_树的区别（b+树对于叶子结点有一个双向链表，b_树+非叶子结点）

11、动态规划（最短路径算法）

12、谈谈排序和堆排序的应用

13、AVL树和红黑树区别（一个通过旋转实现完全平衡，一个通过定义根结点的颜色）

计算机网络：

操作系统：

1、 问了线程和进程的区别

2、 问了对sleep的理解。（进程中的概念）

3、 进程和线程的区别？

4、 进程间通讯有几中方式？

5、 死锁是什么？

6、 进程间通讯方式

7、 进程线程协程的区别

8、进程和线程的区别？

项目相关

1、，问了实现工程的代码量是越多越好还是越少越好？

2、 开发遇到的问题：那些比较简单，哪些比较需要花时间解决？

3、聊了聊做的项目的，谈了谈怎么设计的。

Misc（杂）

1、 问了shader。

2、 MVC架构有什么了解？

3、 前端有什么了解？

4、 有木有做过GUI的开发？

5、 对于游戏开发有什么兴趣？

6、 对于后台开发的认识？

7、 对于AI这一块有什么兴趣？

8、 对于信息安全计算有什么了解？

9、 关于游戏和Unity的内容

10、为什么ngui在VR里不能使用

11、NGUI Altas原理

12、用c\#实现一个商城的业务逻辑（因为刚做过，还有印象）

13、在计算机图形学中如何进行平移、旋转、缩放？

14、有哪些光照模型？

15、如何判断空间中的一点在一个球体内？

16、Unity3D脚本的生命周期？

17、Unity3D的内存管理？

18、Unity3D的UI如何渲染？

19、面向组件的好处？

20、用Opengl如何画一个点，一条直线？

21、有哪些设计模式？ ———————————————— 版权声明：本文为CSDN博主「wwxy261」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。 原文链接：[https://blog.csdn.net/wwxy1995/article/details/102472503](https://blog.csdn.net/wwxy1995/article/details/102472503)

